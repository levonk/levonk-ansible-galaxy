---
- name: Verify devops role installation
  hosts: all
  become: true
  gather_facts: false

  tasks:
    - name: Check if Packer is installed
      command: "packer --version"
      register: packer_check
      changed_when: false
      failed_when: packer_check.rc != 0

    - name: Check if Vagrant is installed
      command: "vagrant --version"
      register: vagrant_check
      changed_when: false
      failed_when: vagrant_check.rc != 0
